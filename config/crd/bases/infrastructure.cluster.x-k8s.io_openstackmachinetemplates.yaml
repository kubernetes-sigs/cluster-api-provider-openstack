---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.13.0
  name: openstackmachinetemplates.infrastructure.cluster.x-k8s.io
spec:
  group: infrastructure.cluster.x-k8s.io
  names:
    categories:
    - cluster-api
    kind: OpenStackMachineTemplate
    listKind: OpenStackMachineTemplateList
    plural: openstackmachinetemplates
    shortNames:
    - osmt
    singular: openstackmachinetemplate
  scope: Namespaced
  versions:
  - deprecated: true
    deprecationWarning: The v1alpha5 version of OpenStackMachineTemplate has been
      deprecated and will be removed in a future release of the API. Please upgrade.
    name: v1alpha5
    schema:
      openAPIV3Schema:
        description: "OpenStackMachineTemplate is the Schema for the openstackmachinetemplates
          API. \n Deprecated: This type will be removed in one of the next releases."
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: OpenStackMachineTemplateSpec defines the desired state of
              OpenStackMachineTemplate.
            properties:
              template:
                description: OpenStackMachineTemplateResource describes the data needed
                  to create a OpenStackMachine from a template.
                properties:
                  spec:
                    description: Spec is the specification of the desired behavior
                      of the machine.
                    properties:
                      cloudName:
                        description: The name of the cloud to use from the clouds
                          secret
                        type: string
                      configDrive:
                        description: Config Drive support
                        type: boolean
                      flavor:
                        description: The flavor reference for the flavor for your
                          server instance.
                        type: string
                      floatingIP:
                        description: The floatingIP which will be associated to the
                          machine, only used for master. The floatingIP should have
                          been created and haven't been associated.
                        type: string
                      identityRef:
                        description: IdentityRef is a reference to a identity to be
                          used when reconciling this cluster
                        properties:
                          kind:
                            description: Kind of the identity. Must be supported by
                              the infrastructure provider and may be either cluster
                              or namespace-scoped.
                            minLength: 1
                            type: string
                          name:
                            description: Name of the infrastructure identity to be
                              used. Must be either a cluster-scoped resource, or namespaced-scoped
                              resource the same namespace as the resource(s) being
                              provisioned.
                            type: string
                        required:
                        - kind
                        - name
                        type: object
                      image:
                        description: The name of the image to use for your server
                          instance. If the RootVolume is specified, this will be ignored
                          and use rootVolume directly.
                        type: string
                      imageUUID:
                        description: The uuid of the image to use for your server
                          instance. if it's empty, Image name will be used
                        type: string
                      instanceID:
                        description: InstanceID is the OpenStack instance ID for this
                          machine.
                        type: string
                      networks:
                        description: A networks object. Required parameter when there
                          are multiple networks defined for the tenant. When you do
                          not specify both networks and ports parameters, the server
                          attaches to the only network created for the current tenant.
                        items:
                          properties:
                            filter:
                              description: Filters for optional network query
                              properties:
                                description:
                                  type: string
                                id:
                                  type: string
                                name:
                                  type: string
                                notTags:
                                  type: string
                                notTagsAny:
                                  type: string
                                projectId:
                                  type: string
                                tags:
                                  type: string
                                tagsAny:
                                  type: string
                              type: object
                            fixedIP:
                              description: A fixed IPv4 address for the NIC.
                              type: string
                            subnets:
                              description: Subnet within a network to use
                              items:
                                properties:
                                  filter:
                                    description: Filters for optional subnet query
                                    properties:
                                      cidr:
                                        type: string
                                      description:
                                        type: string
                                      gateway_ip:
                                        type: string
                                      id:
                                        type: string
                                      ipVersion:
                                        type: integer
                                      ipv6AddressMode:
                                        type: string
                                      ipv6RaMode:
                                        type: string
                                      name:
                                        type: string
                                      notTags:
                                        type: string
                                      notTagsAny:
                                        type: string
                                      projectId:
                                        type: string
                                      tags:
                                        type: string
                                      tagsAny:
                                        type: string
                                    type: object
                                  uuid:
                                    description: Optional UUID of the subnet. If specified
                                      this will not be validated prior to server creation.
                                      If specified, the enclosing `NetworkParam` must
                                      also be specified by UUID.
                                    type: string
                                type: object
                              type: array
                            uuid:
                              description: Optional UUID of the network. If specified
                                this will not be validated prior to server creation.
                                Required if `Subnets` specifies a subnet by UUID.
                              type: string
                          type: object
                        type: array
                      ports:
                        description: Ports to be attached to the server instance.
                          They are created if a port with the given name does not
                          already exist. When you do not specify both networks and
                          ports parameters, the server attaches to the only network
                          created for the current tenant.
                        items:
                          properties:
                            adminStateUp:
                              type: boolean
                            allowedAddressPairs:
                              items:
                                properties:
                                  ipAddress:
                                    type: string
                                  macAddress:
                                    type: string
                                type: object
                              type: array
                            description:
                              type: string
                            disablePortSecurity:
                              description: DisablePortSecurity enables or disables
                                the port security when set. When not set, it takes
                                the value of the corresponding field at the network
                                level.
                              type: boolean
                            fixedIPs:
                              description: Specify pairs of subnet and/or IP address.
                                These should be subnets of the network with the given
                                NetworkID.
                              items:
                                properties:
                                  ipAddress:
                                    type: string
                                  subnet:
                                    description: Subnet is an openstack subnet query
                                      that will return the id of a subnet to create
                                      the fixed IP of a port in. This query must not
                                      return more than one subnet.
                                    properties:
                                      cidr:
                                        type: string
                                      description:
                                        type: string
                                      gateway_ip:
                                        type: string
                                      id:
                                        type: string
                                      ipVersion:
                                        type: integer
                                      ipv6AddressMode:
                                        type: string
                                      ipv6RaMode:
                                        type: string
                                      name:
                                        type: string
                                      notTags:
                                        type: string
                                      notTagsAny:
                                        type: string
                                      projectId:
                                        type: string
                                      tags:
                                        type: string
                                      tagsAny:
                                        type: string
                                    type: object
                                required:
                                - subnet
                                type: object
                              type: array
                            hostId:
                              description: The ID of the host where the port is allocated
                              type: string
                            macAddress:
                              type: string
                            nameSuffix:
                              description: Used to make the name of the port unique.
                                If unspecified, instead the 0-based index of the port
                                in the list is used.
                              type: string
                            network:
                              description: Network is a query for an openstack network
                                that the port will be created or discovered on. This
                                will fail if the query returns more than one network.
                              properties:
                                description:
                                  type: string
                                id:
                                  type: string
                                name:
                                  type: string
                                notTags:
                                  type: string
                                notTagsAny:
                                  type: string
                                projectId:
                                  type: string
                                tags:
                                  type: string
                                tagsAny:
                                  type: string
                              type: object
                            profile:
                              additionalProperties:
                                type: string
                              description: A dictionary that enables the application
                                running on the specified host to pass and receive
                                virtual network interface (VIF) port-specific information
                                to the plug-in.
                              type: object
                            projectId:
                              type: string
                            securityGroupFilters:
                              description: The names, uuids, filters or any combination
                                these of the security groups to assign to the instance
                              items:
                                properties:
                                  filter:
                                    description: Filters used to query security groups
                                      in openstack
                                    properties:
                                      description:
                                        type: string
                                      id:
                                        type: string
                                      limit:
                                        type: integer
                                      marker:
                                        type: string
                                      name:
                                        type: string
                                      notTags:
                                        type: string
                                      notTagsAny:
                                        type: string
                                      projectId:
                                        type: string
                                      sortDir:
                                        type: string
                                      sortKey:
                                        type: string
                                      tags:
                                        type: string
                                      tagsAny:
                                        type: string
                                      tenantId:
                                        type: string
                                    type: object
                                  name:
                                    description: Security Group name
                                    type: string
                                  uuid:
                                    description: Security Group UID
                                    type: string
                                type: object
                              type: array
                            securityGroups:
                              description: The uuids of the security groups to assign
                                to the instance
                              items:
                                type: string
                              type: array
                            tags:
                              description: Tags applied to the port (and corresponding
                                trunk, if a trunk is configured.) These tags are applied
                                in addition to the instance's tags, which will also
                                be applied to the port.
                              items:
                                type: string
                              type: array
                            tenantId:
                              type: string
                            trunk:
                              description: Enables and disables trunk at port level.
                                If not provided, openStackMachine.Spec.Trunk is inherited.
                              type: boolean
                            vnicType:
                              description: The virtual network interface card (vNIC)
                                type that is bound to the neutron port.
                              type: string
                          type: object
                        type: array
                      providerID:
                        description: ProviderID is the unique identifier as specified
                          by the cloud provider.
                        type: string
                      rootVolume:
                        description: The volume metadata to boot from
                        properties:
                          availabilityZone:
                            type: string
                          diskSize:
                            type: integer
                          volumeType:
                            type: string
                        type: object
                      securityGroups:
                        description: The names of the security groups to assign to
                          the instance
                        items:
                          properties:
                            filter:
                              description: Filters used to query security groups in
                                openstack
                              properties:
                                description:
                                  type: string
                                id:
                                  type: string
                                limit:
                                  type: integer
                                marker:
                                  type: string
                                name:
                                  type: string
                                notTags:
                                  type: string
                                notTagsAny:
                                  type: string
                                projectId:
                                  type: string
                                sortDir:
                                  type: string
                                sortKey:
                                  type: string
                                tags:
                                  type: string
                                tagsAny:
                                  type: string
                                tenantId:
                                  type: string
                              type: object
                            name:
                              description: Security Group name
                              type: string
                            uuid:
                              description: Security Group UID
                              type: string
                          type: object
                        type: array
                      serverGroupID:
                        description: The server group to assign the machine to
                        type: string
                      serverMetadata:
                        additionalProperties:
                          type: string
                        description: Metadata mapping. Allows you to create a map
                          of key value pairs to add to the server instance.
                        type: object
                      sshKeyName:
                        description: The ssh key to inject in the instance
                        type: string
                      subnet:
                        description: UUID, IP address of a port from this subnet will
                          be marked as AccessIPv4 on the created compute instance
                        type: string
                      tags:
                        description: Machine tags Requires Nova api 2.52 minimum!
                        items:
                          type: string
                        type: array
                      trunk:
                        description: Whether the server instance is created on a trunk
                          port or not.
                        type: boolean
                    required:
                    - flavor
                    type: object
                required:
                - spec
                type: object
            required:
            - template
            type: object
        type: object
    served: true
    storage: false
  - name: v1alpha6
    schema:
      openAPIV3Schema:
        description: OpenStackMachineTemplate is the Schema for the openstackmachinetemplates
          API.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: OpenStackMachineTemplateSpec defines the desired state of
              OpenStackMachineTemplate.
            properties:
              template:
                description: OpenStackMachineTemplateResource describes the data needed
                  to create a OpenStackMachine from a template.
                properties:
                  spec:
                    description: Spec is the specification of the desired behavior
                      of the machine.
                    properties:
                      cloudName:
                        description: The name of the cloud to use from the clouds
                          secret
                        type: string
                      configDrive:
                        description: Config Drive support
                        type: boolean
                      flavor:
                        description: The flavor reference for the flavor for your
                          server instance.
                        type: string
                      floatingIP:
                        description: The floatingIP which will be associated to the
                          machine, only used for master. The floatingIP should have
                          been created and haven't been associated.
                        type: string
                      identityRef:
                        description: IdentityRef is a reference to a identity to be
                          used when reconciling this cluster
                        properties:
                          kind:
                            description: Kind of the identity. Must be supported by
                              the infrastructure provider and may be either cluster
                              or namespace-scoped.
                            minLength: 1
                            type: string
                          name:
                            description: Name of the infrastructure identity to be
                              used. Must be either a cluster-scoped resource, or namespaced-scoped
                              resource the same namespace as the resource(s) being
                              provisioned.
                            type: string
                        required:
                        - kind
                        - name
                        type: object
                      image:
                        description: The name of the image to use for your server
                          instance. If the RootVolume is specified, this will be ignored
                          and use rootVolume directly.
                        type: string
                      imageUUID:
                        description: The uuid of the image to use for your server
                          instance. if it's empty, Image name will be used
                        type: string
                      instanceID:
                        description: InstanceID is the OpenStack instance ID for this
                          machine.
                        type: string
                      networks:
                        description: A networks object. Required parameter when there
                          are multiple networks defined for the tenant. When you do
                          not specify both networks and ports parameters, the server
                          attaches to the only network created for the current tenant.
                        items:
                          properties:
                            filter:
                              description: Filters for optional network query
                              properties:
                                description:
                                  type: string
                                id:
                                  type: string
                                name:
                                  type: string
                                notTags:
                                  type: string
                                notTagsAny:
                                  type: string
                                projectId:
                                  type: string
                                tags:
                                  type: string
                                tagsAny:
                                  type: string
                              type: object
                            fixedIP:
                              description: A fixed IPv4 address for the NIC.
                              type: string
                            subnets:
                              description: Subnet within a network to use
                              items:
                                properties:
                                  filter:
                                    description: Filters for optional subnet query
                                    properties:
                                      cidr:
                                        type: string
                                      description:
                                        type: string
                                      gateway_ip:
                                        type: string
                                      id:
                                        type: string
                                      ipVersion:
                                        type: integer
                                      ipv6AddressMode:
                                        type: string
                                      ipv6RaMode:
                                        type: string
                                      name:
                                        type: string
                                      notTags:
                                        type: string
                                      notTagsAny:
                                        type: string
                                      projectId:
                                        type: string
                                      tags:
                                        type: string
                                      tagsAny:
                                        type: string
                                    type: object
                                  uuid:
                                    description: Optional UUID of the subnet. If specified
                                      this will not be validated prior to server creation.
                                      If specified, the enclosing `NetworkParam` must
                                      also be specified by UUID.
                                    type: string
                                type: object
                              type: array
                            uuid:
                              description: Optional UUID of the network. If specified
                                this will not be validated prior to server creation.
                                Required if `Subnets` specifies a subnet by UUID.
                              type: string
                          type: object
                        type: array
                      ports:
                        description: Ports to be attached to the server instance.
                          They are created if a port with the given name does not
                          already exist. When you do not specify both networks and
                          ports parameters, the server attaches to the only network
                          created for the current tenant.
                        items:
                          properties:
                            adminStateUp:
                              type: boolean
                            allowedAddressPairs:
                              items:
                                properties:
                                  ipAddress:
                                    type: string
                                  macAddress:
                                    type: string
                                type: object
                              type: array
                            description:
                              type: string
                            disablePortSecurity:
                              description: DisablePortSecurity enables or disables
                                the port security when set. When not set, it takes
                                the value of the corresponding field at the network
                                level.
                              type: boolean
                            fixedIPs:
                              description: Specify pairs of subnet and/or IP address.
                                These should be subnets of the network with the given
                                NetworkID.
                              items:
                                properties:
                                  ipAddress:
                                    type: string
                                  subnet:
                                    description: Subnet is an openstack subnet query
                                      that will return the id of a subnet to create
                                      the fixed IP of a port in. This query must not
                                      return more than one subnet.
                                    properties:
                                      cidr:
                                        type: string
                                      description:
                                        type: string
                                      gateway_ip:
                                        type: string
                                      id:
                                        type: string
                                      ipVersion:
                                        type: integer
                                      ipv6AddressMode:
                                        type: string
                                      ipv6RaMode:
                                        type: string
                                      name:
                                        type: string
                                      notTags:
                                        type: string
                                      notTagsAny:
                                        type: string
                                      projectId:
                                        type: string
                                      tags:
                                        type: string
                                      tagsAny:
                                        type: string
                                    type: object
                                required:
                                - subnet
                                type: object
                              type: array
                            hostId:
                              description: The ID of the host where the port is allocated
                              type: string
                            macAddress:
                              type: string
                            nameSuffix:
                              description: Used to make the name of the port unique.
                                If unspecified, instead the 0-based index of the port
                                in the list is used.
                              type: string
                            network:
                              description: Network is a query for an openstack network
                                that the port will be created or discovered on. This
                                will fail if the query returns more than one network.
                              properties:
                                description:
                                  type: string
                                id:
                                  type: string
                                name:
                                  type: string
                                notTags:
                                  type: string
                                notTagsAny:
                                  type: string
                                projectId:
                                  type: string
                                tags:
                                  type: string
                                tagsAny:
                                  type: string
                              type: object
                            profile:
                              additionalProperties:
                                type: string
                              description: A dictionary that enables the application
                                running on the specified host to pass and receive
                                virtual network interface (VIF) port-specific information
                                to the plug-in.
                              type: object
                            projectId:
                              type: string
                            securityGroupFilters:
                              description: The names, uuids, filters or any combination
                                these of the security groups to assign to the instance
                              items:
                                properties:
                                  filter:
                                    description: Filters used to query security groups
                                      in openstack
                                    properties:
                                      description:
                                        type: string
                                      id:
                                        type: string
                                      limit:
                                        type: integer
                                      marker:
                                        type: string
                                      name:
                                        type: string
                                      notTags:
                                        type: string
                                      notTagsAny:
                                        type: string
                                      projectId:
                                        type: string
                                      sortDir:
                                        type: string
                                      sortKey:
                                        type: string
                                      tags:
                                        type: string
                                      tagsAny:
                                        type: string
                                      tenantId:
                                        type: string
                                    type: object
                                  name:
                                    description: Security Group name
                                    type: string
                                  uuid:
                                    description: Security Group UID
                                    type: string
                                type: object
                              type: array
                            securityGroups:
                              description: The uuids of the security groups to assign
                                to the instance
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: set
                            tags:
                              description: Tags applied to the port (and corresponding
                                trunk, if a trunk is configured.) These tags are applied
                                in addition to the instance's tags, which will also
                                be applied to the port.
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: set
                            tenantId:
                              type: string
                            trunk:
                              description: Enables and disables trunk at port level.
                                If not provided, openStackMachine.Spec.Trunk is inherited.
                              type: boolean
                            valueSpecs:
                              description: Value specs are extra parameters to include
                                in the API request with OpenStack. This is an extension
                                point for the API, so what they do and if they are
                                supported, depends on the specific OpenStack implementation.
                              items:
                                description: ValueSpec represents a single value_spec
                                  key-value pair.
                                properties:
                                  key:
                                    description: Key is the key in the key-value pair.
                                    type: string
                                  name:
                                    description: Name is the name of the key-value
                                      pair. This is just for identifying the pair
                                      and will not be sent to the OpenStack API.
                                    type: string
                                  value:
                                    description: Value is the value in the key-value
                                      pair.
                                    type: string
                                required:
                                - key
                                - name
                                - value
                                type: object
                              type: array
                              x-kubernetes-list-map-keys:
                              - name
                              x-kubernetes-list-type: map
                            vnicType:
                              description: The virtual network interface card (vNIC)
                                type that is bound to the neutron port.
                              type: string
                          type: object
                        type: array
                      providerID:
                        description: ProviderID is the unique identifier as specified
                          by the cloud provider.
                        type: string
                      rootVolume:
                        description: The volume metadata to boot from
                        properties:
                          availabilityZone:
                            type: string
                          diskSize:
                            type: integer
                          volumeType:
                            type: string
                        type: object
                      securityGroups:
                        description: The names of the security groups to assign to
                          the instance
                        items:
                          properties:
                            filter:
                              description: Filters used to query security groups in
                                openstack
                              properties:
                                description:
                                  type: string
                                id:
                                  type: string
                                limit:
                                  type: integer
                                marker:
                                  type: string
                                name:
                                  type: string
                                notTags:
                                  type: string
                                notTagsAny:
                                  type: string
                                projectId:
                                  type: string
                                sortDir:
                                  type: string
                                sortKey:
                                  type: string
                                tags:
                                  type: string
                                tagsAny:
                                  type: string
                                tenantId:
                                  type: string
                              type: object
                            name:
                              description: Security Group name
                              type: string
                            uuid:
                              description: Security Group UID
                              type: string
                          type: object
                        type: array
                      serverGroupID:
                        description: The server group to assign the machine to
                        type: string
                      serverMetadata:
                        additionalProperties:
                          type: string
                        description: Metadata mapping. Allows you to create a map
                          of key value pairs to add to the server instance.
                        type: object
                      sshKeyName:
                        description: The ssh key to inject in the instance
                        type: string
                      subnet:
                        description: UUID, IP address of a port from this subnet will
                          be marked as AccessIPv4 on the created compute instance
                        type: string
                      tags:
                        description: Machine tags Requires Nova api 2.52 minimum!
                        items:
                          type: string
                        type: array
                        x-kubernetes-list-type: set
                      trunk:
                        description: Whether the server instance is created on a trunk
                          port or not.
                        type: boolean
                    required:
                    - flavor
                    type: object
                required:
                - spec
                type: object
            required:
            - template
            type: object
        type: object
    served: true
    storage: false
  - name: v1alpha7
    schema:
      openAPIV3Schema:
        description: OpenStackMachineTemplate is the Schema for the openstackmachinetemplates
          API.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: OpenStackMachineTemplateSpec defines the desired state of
              OpenStackMachineTemplate.
            properties:
              template:
                description: OpenStackMachineTemplateResource describes the data needed
                  to create a OpenStackMachine from a template.
                properties:
                  spec:
                    description: Spec is the specification of the desired behavior
                      of the machine.
                    properties:
                      additionalBlockDevices:
                        description: AdditionalBlockDevices is a list of specifications
                          for additional block devices to attach to the server instance
                        items:
                          description: AdditionalBlockDevice is a block device to
                            attach to the server.
                          properties:
                            name:
                              description: Name of the block device in the context
                                of a machine. If the block device is a volume, the
                                Cinder volume will be named as a combination of the
                                machine name and this name. Also, this name will be
                                used for tagging the block device. Information about
                                the block device tag can be obtained from the OpenStack
                                metadata API or the config drive.
                              type: string
                            sizeGiB:
                              description: SizeGiB is the size of the block device
                                in gibibytes (GiB).
                              type: integer
                            storage:
                              description: Storage specifies the storage type of the
                                block device and additional storage options.
                              properties:
                                type:
                                  description: Type is the type of block device to
                                    create. This can be either "Volume" or "Local".
                                  type: string
                                volume:
                                  description: Volume contains additional storage
                                    options for a volume block device.
                                  properties:
                                    availabilityZone:
                                      description: AvailabilityZone is the volume
                                        availability zone to create the volume in.
                                        If omitted, the availability zone of the server
                                        will be used. The availability zone must NOT
                                        contain spaces otherwise it will lead to volume
                                        that belongs to this availability zone register
                                        failure, see kubernetes/cloud-provider-openstack#1379
                                        for further information.
                                      type: string
                                    type:
                                      description: Type is the Cinder volume type
                                        of the volume. If omitted, the default Cinder
                                        volume type that is configured in the OpenStack
                                        cloud will be used.
                                      type: string
                                  type: object
                              required:
                              - type
                              type: object
                          required:
                          - name
                          - sizeGiB
                          - storage
                          type: object
                        type: array
                        x-kubernetes-list-map-keys:
                        - name
                        x-kubernetes-list-type: map
                      cloudName:
                        description: The name of the cloud to use from the clouds
                          secret
                        type: string
                      configDrive:
                        description: Config Drive support
                        type: boolean
                      flavor:
                        description: The flavor reference for the flavor for your
                          server instance.
                        type: string
                      floatingIP:
                        description: The floatingIP which will be associated to the
                          machine, only used for master. The floatingIP should have
                          been created and haven't been associated.
                        type: string
                      identityRef:
                        description: IdentityRef is a reference to a identity to be
                          used when reconciling this cluster. If not specified, the
                          identity ref of the cluster will be used instead.
                        properties:
                          kind:
                            description: Kind of the identity. Must be supported by
                              the infrastructure provider and may be either cluster
                              or namespace-scoped.
                            minLength: 1
                            type: string
                          name:
                            description: Name of the infrastructure identity to be
                              used. Must be either a cluster-scoped resource, or namespaced-scoped
                              resource the same namespace as the resource(s) being
                              provisioned.
                            type: string
                        required:
                        - kind
                        - name
                        type: object
                      image:
                        description: The name of the image to use for your server
                          instance. If the RootVolume is specified, this will be ignored
                          and use rootVolume directly.
                        type: string
                      imageUUID:
                        description: The uuid of the image to use for your server
                          instance. if it's empty, Image name will be used
                        type: string
                      instanceID:
                        description: InstanceID is the OpenStack instance ID for this
                          machine.
                        type: string
                      ports:
                        description: Ports to be attached to the server instance.
                          They are created if a port with the given name does not
                          already exist. If not specified a default port will be added
                          for the default cluster network.
                        items:
                          properties:
                            adminStateUp:
                              type: boolean
                            allowedAddressPairs:
                              items:
                                properties:
                                  ipAddress:
                                    type: string
                                  macAddress:
                                    type: string
                                type: object
                              type: array
                            description:
                              type: string
                            disablePortSecurity:
                              description: DisablePortSecurity enables or disables
                                the port security when set. When not set, it takes
                                the value of the corresponding field at the network
                                level.
                              type: boolean
                            fixedIPs:
                              description: Specify pairs of subnet and/or IP address.
                                These should be subnets of the network with the given
                                NetworkID.
                              items:
                                properties:
                                  ipAddress:
                                    type: string
                                  subnet:
                                    description: Subnet is an openstack subnet query
                                      that will return the id of a subnet to create
                                      the fixed IP of a port in. This query must not
                                      return more than one subnet.
                                    properties:
                                      cidr:
                                        type: string
                                      description:
                                        type: string
                                      gateway_ip:
                                        type: string
                                      id:
                                        type: string
                                      ipVersion:
                                        type: integer
                                      ipv6AddressMode:
                                        type: string
                                      ipv6RaMode:
                                        type: string
                                      name:
                                        type: string
                                      notTags:
                                        type: string
                                      notTagsAny:
                                        type: string
                                      projectId:
                                        type: string
                                      tags:
                                        type: string
                                      tagsAny:
                                        type: string
                                    type: object
                                required:
                                - subnet
                                type: object
                              type: array
                            hostId:
                              description: The ID of the host where the port is allocated
                              type: string
                            macAddress:
                              type: string
                            nameSuffix:
                              description: Used to make the name of the port unique.
                                If unspecified, instead the 0-based index of the port
                                in the list is used.
                              type: string
                            network:
                              description: Network is a query for an openstack network
                                that the port will be created or discovered on. This
                                will fail if the query returns more than one network.
                              properties:
                                description:
                                  type: string
                                id:
                                  type: string
                                name:
                                  type: string
                                notTags:
                                  type: string
                                notTagsAny:
                                  type: string
                                projectId:
                                  type: string
                                tags:
                                  type: string
                                tagsAny:
                                  type: string
                              type: object
                            profile:
                              description: Profile is a set of key-value pairs that
                                are used for binding details. We intentionally don't
                                expose this as a map[string]string because we only
                                want to enable the users to set the values of the
                                keys that are known to work in OpenStack Networking
                                API. See https://docs.openstack.org/api-ref/network/v2/index.html?expanded=create-port-detail#create-port
                              properties:
                                ovsHWOffload:
                                  description: OVSHWOffload enables or disables the
                                    OVS hardware offload feature.
                                  type: boolean
                                trustedVF:
                                  description: TrustedVF enables or disables the “trusted
                                    mode” for the VF.
                                  type: boolean
                              type: object
                            propagateUplinkStatus:
                              description: PropageteUplinkStatus enables or disables
                                the propagate uplink status on the port.
                              type: boolean
                            securityGroupFilters:
                              description: The names, uuids, filters or any combination
                                these of the security groups to assign to the instance
                              items:
                                properties:
                                  description:
                                    type: string
                                  id:
                                    type: string
                                  name:
                                    type: string
                                  notTags:
                                    type: string
                                  notTagsAny:
                                    type: string
                                  projectId:
                                    type: string
                                  tags:
                                    type: string
                                  tagsAny:
                                    type: string
                                type: object
                              type: array
                            tags:
                              description: Tags applied to the port (and corresponding
                                trunk, if a trunk is configured.) These tags are applied
                                in addition to the instance's tags, which will also
                                be applied to the port.
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: set
                            trunk:
                              description: Enables and disables trunk at port level.
                                If not provided, openStackMachine.Spec.Trunk is inherited.
                              type: boolean
                            valueSpecs:
                              description: Value specs are extra parameters to include
                                in the API request with OpenStack. This is an extension
                                point for the API, so what they do and if they are
                                supported, depends on the specific OpenStack implementation.
                              items:
                                description: ValueSpec represents a single value_spec
                                  key-value pair.
                                properties:
                                  key:
                                    description: Key is the key in the key-value pair.
                                    type: string
                                  name:
                                    description: Name is the name of the key-value
                                      pair. This is just for identifying the pair
                                      and will not be sent to the OpenStack API.
                                    type: string
                                  value:
                                    description: Value is the value in the key-value
                                      pair.
                                    type: string
                                required:
                                - key
                                - name
                                - value
                                type: object
                              type: array
                              x-kubernetes-list-map-keys:
                              - name
                              x-kubernetes-list-type: map
                            vnicType:
                              description: The virtual network interface card (vNIC)
                                type that is bound to the neutron port.
                              type: string
                          type: object
                        type: array
                      providerID:
                        description: ProviderID is the unique identifier as specified
                          by the cloud provider.
                        type: string
                      rootVolume:
                        description: The volume metadata to boot from
                        properties:
                          availabilityZone:
                            type: string
                          diskSize:
                            type: integer
                          volumeType:
                            type: string
                        type: object
                      securityGroups:
                        description: The names of the security groups to assign to
                          the instance
                        items:
                          properties:
                            description:
                              type: string
                            id:
                              type: string
                            name:
                              type: string
                            notTags:
                              type: string
                            notTagsAny:
                              type: string
                            projectId:
                              type: string
                            tags:
                              type: string
                            tagsAny:
                              type: string
                          type: object
                        type: array
                      serverGroupID:
                        description: The server group to assign the machine to
                        type: string
                      serverMetadata:
                        additionalProperties:
                          type: string
                        description: Metadata mapping. Allows you to create a map
                          of key value pairs to add to the server instance.
                        type: object
                      sshKeyName:
                        description: The ssh key to inject in the instance
                        type: string
                      tags:
                        description: Machine tags Requires Nova api 2.52 minimum!
                        items:
                          type: string
                        type: array
                        x-kubernetes-list-type: set
                      trunk:
                        description: Whether the server instance is created on a trunk
                          port or not.
                        type: boolean
                    required:
                    - flavor
                    type: object
                required:
                - spec
                type: object
            required:
            - template
            type: object
        type: object
    served: true
    storage: true
